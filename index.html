<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style type="text/tailwindcss">
        @layer utilities {
          .content-auto {
            content-visibility: auto;
          }
        }
    </style>
    <link href="https://cdn.jsdelivr.net/npm/flowbite@2.5.2/dist/flowbite.min.css" rel="stylesheet" />
</head>
<body>
    <div class="popUp flex items-center p-4 mb-4 text-sm text-red-800 border border-red-300 rounded-lg bg-red-50 dark:bg-gray-800 dark:text-red-400 dark:border-red-800" role="alert">
        <svg class="flex-shrink-0 inline w-4 h-4 me-3" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 20">
          <path d="M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5ZM9.5 4a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM12 15H8a1 1 0 0 1 0-2h1v-3H8a1 1 0 0 1 0-2h2a1 1 0 0 1 1 1v4h1a1 1 0 0 1 0 2Z"/>
        </svg>
        <span class="sr-only">Info</span>
        <div>
          <span class="font-medium">Echec de l'enregistrement!</span> le formulaire a été mal remplie.
        </div>
      </div>
      <!-- <div class="max-w-md p-6 bg-dark border border-gray-200 rounded-lg shadow dark:bg-dark dark:border-dark"> -->
    <form class="max-w-md mx-auto py-16" action="./exoJs" method="post">
        <div class="grid md:grid-cols-2 md:gap-6">
          <div class="relative z-0 w-full mb-5 group">
              <input type="text" name="floating_first_name" id="floating_first_name" class="block py-2.5 px-0 w-full text-sm text-purple-600 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-purple-600 dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer" placeholder=" "  />
              <label for="floating_first_name" class="peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 rtl:peer-focus:translate-x-1/4 peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6">Nom</label>
          </div>
          <div class="relative z-0 w-full mb-5 group">
              <input type="text" name="floating_last_name" id="floating_last_name" class="block py-2.5 px-0 w-full text-sm text-purple-600 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-purple-600 dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer" placeholder=" "  />
              <label for="floating_last_name" class="peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 rtl:peer-focus:translate-x-1/4 peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6">Prénom</label>
          </div>
        </div>
        <div class="relative z-0 w-full mb-5 group">
            <input type="text" name="floating_email" id="floating_email" class="block py-2.5 px-0 w-full text-sm text-purple-600 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-purple-600 dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer" placeholder=" "  />
            <label for="floating_email" class="peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 rtl:peer-focus:translate-x-1/4 rtl:peer-focus:left-auto peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6">Adress email</label>
        </div>
        <div class="relative z-0 w-full mb-5 group">
            <input type="text" name="floating_pseudo" id="floating_pseudo" class="block py-2.5 px-0 w-full text-sm text-purple-600 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-purple-600 dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer" placeholder=" "  />
            <label for="floating_pseudo" class="peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 rtl:peer-focus:translate-x-1/4 peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6">Pseudo</label>
        </div>
        <div class="relative z-0 w-full mb-5 group">
            <input type="password" name="floating_password" id="floating_password" class="block py-2.5 px-0 w-full text-sm text-purple-600 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-purple-600 dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer" placeholder=" "  />
            <label for="floating_password" class="peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 rtl:peer-focus:translate-x-1/4 peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6">Mot de passe</label>
        </div>
        <div class="relative z-0 w-full mb-5 group">
            <input type="password" name="repeat_password" id="floating_repeat_password" class="block py-2.5 px-0 w-full text-sm text-purple-600 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-purple-600 dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer" placeholder=" "  />
            <label for="floating_repeat_password" class="peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 rtl:peer-focus:translate-x-1/4 peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6">Confirmation du mot de passe</label>
        </div>
        <button type="submit" class="text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm w-full sm:w-auto px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800">S'enregistrer</button>
      </form>
    <!-- </div> -->

    
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
          theme: {
            extend: {
              colors: {
                clifford: '#da373d',
              }
            }
          }
        }
    </script>
    <script src="https://code.jquery.com/jquery-3.7.1.min.js" integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/flowbite@2.5.2/dist/flowbite.min.js"></script>
    <script>
        $(document).ready(function() {
    const form = $('form');
    $('.popUp').hide();

    // Fonction pour valider l'email
    function isValidEmail(email) {
        return /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email);
    }

    // Fonction pour ajouter un message d'erreur
    function addError(input, message) {
        const errorDiv = $('<div>')
            .addClass('text-red-500 text-xs mt-1')
            .attr('id', input.attr('id') + '-error')
            .text(message);
        
        // Supprime l'ancien message d'erreur s'il existe
        $(`#${input.attr('id')}-error`).remove();
        input.parent().append(errorDiv);
        input.addClass('border-red-500');

        $('.popUp').show();
        setTimeout(() => {
            $('.popUp').hide();
        }, "3000");
    }

    // Fonction pour supprimer un message d'erreur
    function removeError(input) {
        $(`#${input.attr('id')}-error`).remove();
        input.removeClass('border-red-500');
    }

    form.on('submit', function(e) {
        let isValid = true;

        // Validation du nom
        const nom = $('#floating_first_name');
        if (nom.val().trim() === '') {
            isValid = false;
            addError(nom, 'Le nom est requis');
            e.preventDefault();
        } else if (nom.val().length < 2) {
            isValid = false;
            addError(nom, 'Le nom doit contenir au moins 2 caractères');
            e.preventDefault();
        } else {
            removeError(nom);
        }

        // Validation du prénom
        const prenom = $('#floating_last_name');
        if (prenom.val().trim() === '') {
            isValid = false;
            addError(prenom, 'Le prénom est requis');
            e.preventDefault();
        } else if (prenom.val().length < 2) {
            isValid = false;
            addError(prenom, 'Le prénom doit contenir au moins 2 caractères');
            e.preventDefault();
        } else {
            removeError(prenom);
        }

        // Validation de l'email
        const email = $('#floating_email');
        if (email.val().trim() === '') {
            isValid = false;
            addError(email, 'L\'email est requis');
            e.preventDefault();
        } else if (!isValidEmail(email.val())) {
            isValid = false;
            addError(email, 'Veuillez entrer une adresse email valide');
            e.preventDefault();
        } else {
            removeError(email);
        }

        // Validation du pseudo
        const pseudo = $('#floating_pseudo');
        if (pseudo.val().trim() === '') {
            isValid = false;
            addError(pseudo, 'Le pseudo est requis');
            e.preventDefault();
        } else if (pseudo.val().length < 3) {
            isValid = false;
            addError(pseudo, 'Le pseudo doit contenir au moins 3 caractères');
            e.preventDefault();
        } else {
            removeError(pseudo);
        }

        // Validation du mot de passe
        const password = $('#floating_password');
        const passwordRegex = /^(?=.*[A-Z])(?=.*[a-z])(?=.*\d)(?=.*[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>/?])[A-Za-z\d!@#$%^&*()_+\-=\[\]{};':"\\|,.<>/?]{8,}$/;
        if (password.val() === '') {
            isValid = false;
            addError(password, 'Le mot de passe est requis');
            e.preventDefault();
        } else if (!passwordRegex.test(password.val())) {
            isValid = false;
            addError(password, 'Le mot de passe doit contenir au moins 8 caractères, une lettre et un chiffre');
            e.preventDefault();
        } else {
            removeError(password);
        }

        // Validation de la confirmation du mot de passe
        const confirmPassword = $('#floating_repeat_password');
        if (confirmPassword.val() === '') {
            isValid = false;
            addError(confirmPassword, 'La confirmation du mot de passe est requise');
            e.preventDefault();
        } else if (confirmPassword.val() !== password.val()) {
            isValid = false;
            addError(confirmPassword, 'Les mots de passe ne correspondent pas');
            e.preventDefault();
        } else {
            removeError(confirmPassword);
        }

        // Si tout est valide, on peut soumettre le formulaire
        // if (isValid) {
        //     alert('Formulaire valide, envoi des données...');
        // }
    });

    // Validation en temps réel lors de la saisie
    form.find('input').on('input', function() {
        const input = $(this);
        if (input.val().trim() !== '') {
            removeError(input);
        }
    });
});
    </script>
</body>
</html>